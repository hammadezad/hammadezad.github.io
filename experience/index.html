<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Experience — Hammad Ezad</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root{
      --primary:#2563eb; --accent:#38bdf8; --bg:#0b1220; --text:#e5e7eb;
      --card:#0f172a; --border:#1f2a44; --muted:#94a3b8; --chip:#0b2244;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Roboto,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .nav{position:sticky;top:0;z-index:40;background:rgba(15,23,42,.7);backdrop-filter:saturate(140%) blur(10px);border-bottom:1px solid var(--border)}
    .nav-inner{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between}
    .nav a{color:#cbd5e1;text-decoration:none;font-weight:800}
    .nav a:hover{color:#fff}
    .container{max-width:1100px;margin:0 auto;padding:26px 16px 70px 16px}
    h1{margin:8px 0 6px 0;color:#bfdbfe}
    .sub{color:var(--muted);margin:0 0 18px 0}
    .timeline{position:relative;margin:20px 0}
    .timeline:before{content:"";position:absolute;left:18px;top:0;bottom:0;width:2px;background:var(--border)}
    .role{position:relative;margin-left:48px;margin-bottom:22px}
    .dot{position:absolute;left:-34px;top:4px;width:14px;height:14px;border-radius:50%;background:linear-gradient(90deg,var(--accent),var(--primary));box-shadow:0 0 0 4px rgba(56,189,248,.12)}
    .role-card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px}
    .header{display:flex;gap:14px;align-items:center}
    .logo{width:44px;height:44px;border-radius:10px;object-fit:cover;border:1px solid var(--border)}
    .title{margin:0;color:#e2e8f0}
    .meta{color:#93c5fd;font-weight:800;margin-top:2px}
    .project{margin-top:12px;border-top:1px dashed var(--border);padding-top:12px}
    .pname{font-weight:900;margin:0 0 6px 0}
    .bullets{margin:6px 0 0 18px;color:#cbd5e1}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .chip{background:var(--chip);border:1px solid var(--border);color:#c7d2fe;padding:6px 10px;border-radius:999px;font-weight:800;font-size:.85rem}
    .toolbar{display:flex;gap:10px;margin-bottom:12px}
    .search{flex:1;background:#081024;border:1px solid var(--border);color:#fff;border-radius:12px;padding:10px}
    .hint{color:var(--muted);font-size:.9rem}
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-inner">
      <a href="../index.html">← Back to Home</a>
      <a href="../Hammad_Ezad_CV.pdf" target="_blank" rel="noreferrer">Resume</a>
    </div>
  </nav>

  <main class="container">
    <h1>Experience</h1>
    <p class="sub">End-to-end delivery across optimization, GenAI, and ML platforms.</p>

    <div class="toolbar">
      <input id="q" class="search" type="search" placeholder="Search by company, project, or tech… (e.g., Gurobi, Salesforce, XGBoost)"/>
    </div>
    <div id="timeline" class="timeline"></div>
    <p class="hint">Tip: Use the search to filter roles and projects live.</p>
  </main>

  <script>
    let data = [];
    function render(filter=""){
      const host = document.getElementById('timeline');
      host.innerHTML = '';
      const q = filter.trim().toLowerCase();
      data.forEach(role=>{
        // role or any project matches query?
        const roleText = (role.title+' '+role.company+' '+role.period).toLowerCase();
        const projMatch = (role.projects||[]).some(p=>{
          const t = (p.name+' '+(p.tech||'')+' '+(p.desc||[]).join(' ')).toLowerCase();
          return t.includes(q);
        });
        if(q && !roleText.includes(q) && !projMatch) return;

        const wrap = document.createElement('div');
        wrap.className = 'role';
        wrap.innerHTML = `
          <div class="dot"></div>
          <div class="role-card">
            <div class="header">
              <img class="logo" src="../${role.logo||''}" alt="${role.company||''} logo"/>
              <div>
                <h3 class="title">${role.title||''}</h3>
                <div class="meta">${role.company||''} · ${role.period||''}</div>
              </div>
            </div>
            <div class="projects"></div>
          </div>
        `;
        const projectsHost = wrap.querySelector('.projects');
        (role.projects||[]).forEach(p=>{
          const div = document.createElement('div');
          div.className = 'project';
          div.innerHTML = `
            <div class="pname">${p.name||''}</div>
            <ul class="bullets">${(p.desc||[]).map(d=>`<li>${d}</li>`).join('')}</ul>
            ${p.tech ? `<div class="chips">${p.tech.split(',').map(s=>`<span class="chip">${s.trim()}</span>`).join('')}</div>`:''}
          `;
          projectsHost.appendChild(div);
        });
        host.appendChild(wrap);
      });
      if(!host.children.length){
        host.innerHTML = '<div class="role"><div class="role-card">No matches. Try a different search.</div></div>';
      }
    }

    async function init(){
      const res = await fetch('../experience.json',{cache:'no-store'});
      data = await res.json();
      // newest first if periods contain years
      data.sort((a,b)=> (b.period||'').localeCompare(a.period||''));
      render('');
      document.getElementById('q').addEventListener('input', e=>render(e.target.value));
    }
    init();
  </script>
</body>
</html>
